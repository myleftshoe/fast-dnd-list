(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(23)},17:function(e,t,n){},21:function(e,t,n){},23:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),o=n(6),s=n.n(o),i=n(7),l=n(8),c=n(10),u=n(9),f=n(11),p=n(4),m=(n(17),n(0)),d=n.n(m),h=n(2),g=n(3),v=(n(21),function(e){return e.preventDefault()}),b=function(e,t){return new Promise(function(n,r){e.addEventListener(t,function e(r){r.target.removeEventListener(t,e,!1),n()},!1)})},w={grasp:"box-shadow .2s ease-in-out, background-color .2s ease-in-out",moveIntoPlace:"transform .2s ease-in-out",settleIntoPlace:"box-shadow .2s ease-in-out, background-color .2s ease-in-out"};function y(e,t){var n=null,r=null,a=null,o=e.offsetLeft,s=e.offsetTop,i=e.offsetHeight,l=e.offsetWidth,c=window.getComputedStyle(e),u=c.marginTop,f=c.marginBottom,p=c.marginLeft,m=c.marginRight,v=[o+l/2,s+i/2],y={width:l+Math.max(parseInt(p),parseInt(m)),height:i+Math.max(parseInt(u),parseInt(f))};return{get element(){return e},get direction(){return a},get displacement(){return[r[0]-n[0],r[1]-n[1]]},get dimensions(){return y},get absoluteCenter(){return[v[0]+this.displacement[0],v[1]+this.displacement[1]]},set position(t){r?(a=t[1]<r[1]?"up":"down",console.log(t[1],r[1],a)):console.log("null"),r=t,n||(n=r);var o=Object(g.a)(this.displacement,2),s=o[0],i=o[1];e.style.transform="translate(".concat(s,"px,").concat(i,"px)")},get position(){return r},grasp:function(){e.style.willChange="transform",e.style.zIndex=999,e.style.position="relative",e.style.transition=w.grasp,e.classList.add(t.dragClassName),t.raised&&e.classList.add("shadow")},moveIntoPlace:function(){var t=Object(h.a)(d.a.mark(function t(a,o){var s;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r!==n){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return s=b(e,"transitionend"),requestAnimationFrame(function(){e.style.transition=w.moveIntoPlace,e.style.transform="translate(0px,".concat(o-e.offsetTop,"px)")}),t.next=6,s;case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}(),settleIntoPlace:function(){var n=Object(h.a)(d.a.mark(function n(){var r;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r=b(e,"transitionend"),requestAnimationFrame(function(){e.classList.remove(t.dragClassName),e.classList.remove("shadow"),e.style.transition=w.settleIntoPlace}),n.next=4,r;case 4:case"end":return n.stop()}},n,this)}));return function(){return n.apply(this,arguments)}}(),release:function(){var t=Object(h.a)(d.a.mark(function t(n,r){return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.moveIntoPlace(n,r);case 2:return t.next=4,this.settleIntoPlace();case 4:e.style.position=null,e.style.zIndex=null,e.style.transition=null,e.style.transform=null;case 8:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}}var x=function(e,t){var n,r,a,o,s;function i(){console.table(s.map(function(e){return{item:e.element.innerText,top:e.top,translateY:e.translateY}}))}return{grasp:function(l){l.target!==e&&((n=new y(l.target,t)).grasp(n),o=Array.prototype.slice.call(e.children),r=o.indexOf(n.element),a=r,o.splice(r,1),function(){s=[];for(var e=o.length,t=0;t<e;t++){var n=o[t];s.push({element:n,top:n.offsetTop,height:n.offsetHeight,translateY:0})}}(),i())},move:function(e){var t=this;if(n){console.log("****");var r=[e.touches[0].clientX,e.touches[0].clientY];requestAnimationFrame(function(){return t.handleMove(r)})}},handleMove:function(t){var r=Object(g.a)(t,2),i=r[0],l=r[1],c=function(){var t=n.element.parentNode;for(;t&&t!==document.body&&!(t.scrollHeight>t.clientHeight&&"visible"!==window.getComputedStyle(t)["overflow-y"]);)t=t.parentNode;t=t||document.body;var r=0,a=t,o=a.getBoundingClientRect(),s=n.element.getBoundingClientRect(),i=Math.min(o.bottom,window.innerHeight)-s.bottom,l=s.top-Math.max(o.top,0),c=e.scrollHeight-Math.min(a.clientHeight,window.innerHeight);i<40?r=Math.min(40,40-i):l<40&&(r=Math.max(-40,l-40));var u=Math.max(0,Math.min(c,a.scrollTop+r));return a.scrollTop=u,u}();n.position=[i,l+c];var u=n,f=u.direction,p=u.dimensions.height,m=n.absoluteCenter[1];if(console.log(f),"down"===f)for(;a<o.length;a++){var d=s[a];if(d.top>m)break;console.log(m),d.top-=p,d.translateY-=p,v(d)}else if("up"===f)for(;a>0;a--){var h=s[a-1];if(h.top+h.height<m)break;console.log(m),h.top+=p,h.translateY+=p,v(h)}function v(e){var t=e.element,n=e.translateY,r=void 0===n?0:n;t.style.willChange="transform",t.style.transition="transform .2s ease-in-out",t.style.transform="translateY(".concat(r,"px)")}},release:function(){var t=Object(h.a)(d.a.mark(function t(s){var l,c;return d.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.table([{draggable:n.element.innerText,centerY:n.absoluteCenter[1],translateY:n.element.style.transform}]),i(),console.log(e.clientHeight),n){t.next=5;break}return t.abrupt("return",{oldIndex:null,newIndex:null});case 5:return l=r,c=a,t.next=9,n.release(0,e.children[a].offsetTop);case 9:return o.forEach(function(e){e.style.transition=null,e.style.transform=null}),t.abrupt("return",{oldIndex:l,newIndex:c});case 11:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()}};function I(e){Object(r.useEffect)(function(){return t=new x(n.current,e),null});var t,n=Object(r.useRef)();function o(){return(o=Object(h.a)(d.a.mark(function n(r){var a;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r.stopPropagation(),n.next=3,t.release(r);case 3:a=n.sent,e.onDrop&&e.onDrop(a);case 5:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}return a.a.createElement("div",{className:"container",ref:n,onTouchStart:function(n){n.stopPropagation(),t.grasp(n),e.onGrasp&&e.onGrasp()},onTouchMove:function(n){n.stopPropagation(),t.move(n),e.Drag&&e.onDrag()},onTouchEnd:function(e){return o.apply(this,arguments)},onContextMenu:v},e.children)}I.defaultProps={raised:!0,dragClassName:"drag-style"};var O=function(e){return Object(p.a)(Array(e).keys()).map(function(e){return"Item ".concat(e)})},j={reverse:function(e){var t,n=e.items;return{items:(t=n,t.slice().reverse())}},shuffle:function(e){var t,n=e.items;return{items:(t=n,t.map(function(e){return[Math.random(),e]}).sort(function(e,t){return e[0]-t[0]}).map(function(e){return e[1]}))}},move:function(e,t){return function(n){return{items:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(n===t)return e;if(isNaN(Number(t)||isNaN(Number(n))))return e;var r=Object(p.a)(e),a=null!==t?r.splice(t,1)[0]:null;return null!==n&&r.splice(n,0,a),r}(n.items,e,t)}}}},k=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(a)))).state={items:O(100)},n.onDrop=function(e){var t=e.oldIndex,r=e.newIndex;return n.setState(j.move(t,r))},n}return Object(f.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"list"},a.a.createElement(I,{dragClassName:"drag-style",onDrop:this.onDrop},this.state.items.map(function(e){return a.a.createElement("div",{key:e,className:"list-item"},e)})))}}]),t}(r.Component);s.a.render(a.a.createElement(k,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.c3ed964c.chunk.js.map