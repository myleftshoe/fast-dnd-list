(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(5),s=n.n(a),i=n(1),c=n(2),l=(n(12),n(3)),u=n.n(l),d=n(6);n(16);function f(e){e.preventDefault()}n(18);var m={grasp:"box-shadow .2s ease-in-out, background-color .2s ease-in-out",moveIntoPlace:"transform .2s ease-in-out",settleIntoPlace:"box-shadow .2s ease-in-out, background-color .2s ease-in-out"};function v(e,t){var n=null,o=null,r=null,a=e.offsetLeft,s=e.offsetTop,c=e.offsetHeight,l=e.offsetWidth,f=window.getComputedStyle(e),v=f.marginTop,p=f.marginBottom,g=f.marginLeft,h=f.marginRight,y=[a+l/2,s+c/2],b={width:l+Math.max(parseInt(g),parseInt(h)),height:c+Math.max(parseInt(v),parseInt(p))};return{get element(){return e},get direction(){return r},get displacement(){return[o[0]-n[0],o[1]-n[1]]},get dimensions(){return b},get absoluteCenter(){return[y[0]+this.displacement[0],y[1]+this.displacement[1]]},get margins(){return{top:parseInt(v),bottom:parseInt(p),left:parseInt(g),right:parseInt(h)}},set position(t){o&&(r=t[1]<o[1]?"up":"down"),o=t,n||(n=o);var a=Object(i.a)(this.displacement,2),s=a[0],c=a[1];e.style.transform="translate(".concat(s,"px,").concat(c,"px)")},get position(){return o},get hasMoved(){return n!==o},grasp:function(){e.style.willChange="transform",e.style.zIndex=999,e.style.position="relative",e.style.transition=m.grasp,e.classList.add(t.dragClassName),t.raised&&e.classList.add("shadow")},moveIntoPlace:function(t,n){var o=e.getBoundingClientRect(),r=o.left,a=o.top,s=[{transform:"translate(".concat(r-t-this.margins.left,"px,").concat(a-n,"px)")},{transform:"translate(".concat(0,"px,",0,"px)")}];return e.animate(s,{duration:200,easing:"ease-in-out"}).finished},settleIntoPlace:function(){var n,o,r=(n=e,o="transitionend",new Promise(function(e,t){n.addEventListener(o,function t(n){n.target.removeEventListener(o,t,!1),e()},!1)}));return requestAnimationFrame(function(){e.classList.remove(t.dragClassName),e.classList.remove("shadow"),e.style.transition=m.settleIntoPlace}),r},release:function(){var t=Object(d.a)(u.a.mark(function t(n,o){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.moveIntoPlace(n,o);case 2:e.style.zIndex=null,e.style.transform=null;case 4:case"end":return t.stop()}},t,this)}));return function(e,n){return t.apply(this,arguments)}}()}}var p={grasp:"box-shadow .2s ease-in-out, background-color .2s ease-in-out",moveIntoPlace:"transform .2s ease-in-out",settleIntoPlace:"box-shadow 0.4s ease-in-out, background-color 0.4s ease-in-out"};function g(e,t){var n=.02,o=e.map(function(e){return e.style.transition=p.settleIntoPlace,e.classList.remove(t.dragClassName),e.classList.remove("shadow"),e.style.willChange=null,n+=n,new r(e)});return{get:function(e){return o[e]},find:function(e){return o.find(function(t){return t.element===e})},indexOf:function(e){return o.findIndex(function(t){return t.element===e})},get count(){return o.length},removeAt:function(e){o.splice(e,1)},resetStyles:function(){o.forEach(function(e){var t=e.element;e.selected?t.style.willChange="opacity":t.classList.remove("fadein"),t.style.transition=null,t.style.transform=null})},getSelected:function(){return o.filter(function(e){return e.selected})},get hasSelected(){return o.some(function(e){return e.selected})},getSelectedIndexes:function(){var e=[];return o.forEach(function(t,n){t.selected&&e.push(n)}),e},print:function(){console.table(o.map(function(e){return{item:e.element.innerText,top:e.top,translateY:e.translateY}}))}};function r(e){var n=e.offsetTop,o=e.offsetHeight,r=e.translateY;return{element:e,offsetTop:n,height:o,translateY:void 0===r?0:r,marginTop:e.style.marginTop,selected:null,get top(){return this.offsetTop+this.translateY},select:function(){this.selected=!0,e.style.transition=p.grasp,e.classList.add(t.dragClassName),t.raised&&e.classList.add("shadow")},deselect:function(){this.selected=!1,e.style.transition=p.settleIntoPlace,e.classList.remove(t.dragClassName),e.classList.remove("shadow")},toggle:function(){this.selected?this.deselect():this.select()}}}}var h=function(e,t){var n,o,r,a,s,c,l=e.parentNode,u=new g(Array.from(e.children),t),d=l.getBoundingClientRect();return{grasp:function(t){if(c)c=!1;else if(t!==e)return u.hasSelected?(clearTimeout(s),u.find(t).toggle(),void(n=void 0)):void(s=setTimeout(function(){s=void 0,u.find(t).toggle(),n=void 0},300))},move:function(f,m,p){if(f!==e&&f!==l)if(s)clearTimeout(s);else{n||(n=new v(f,t),o=u.indexOf(n.element),r=o,u.get(o).select(),l.style.overflowY="hidden",c=!0,function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;try{(t=document.createEvent("TouchEvent")).initTouchEvent("touchstart",!0,!0)}catch(r){try{(t=document.createEvent("UIEvent")).initUIEvent("touchstart",!0,!0)}catch(a){(t=document.createEvent("Event")).initEvent("touchstart",!0,!0)}}t.touches=[{clientX:n,clientY:o}],t.isDummy=!0,e.dispatchEvent(t)}(u.get(0).element,40,40),n.grasp()),a=requestAnimationFrame(function e(){if(!n)return;var t=function(){var e=n.element.getBoundingClientRect(),t=Math.min(d.bottom,window.innerHeight)-e.bottom,o=e.top-Math.max(d.top,0),r=l.scrollHeight-Math.min(l.clientHeight,window.innerHeight),a=0;t<80?a=Math.min(80,80-t):o<80&&(a=Math.max(-80,o-80));return[Math.max(0,Math.min(r,Math.round(l.scrollTop+.125*a))),a]}(),o=Object(i.a)(t,2),s=o[0],c=o[1];var f=p+s;if(f===g)return;l.scrollTop=s;n.position=[m,f];g=f;var v=n,y=v.direction,b=v.dimensions.height,w=Object(i.a)(v.absoluteCenter,2),x=w[1];if("down"===y)for(;r<u.count;r++){var E=u.get(r);if(E.element!==n.element){if(E.top>x)break;E.translateY-=b,h(E)}}else if("up"===y)for(;r>0;r--){var I=u.get(r-1);if(I.element!==n.element){var O=I.top+I.height;if(O<x)break;I.translateY+=b,h(I)}}r<=0||r>=u.count||0===c?cancelAnimationFrame(a):a=requestAnimationFrame(e)});var g=null}function h(e){var t=e.element,n=e.translateY,o=void 0===n?0:n;t.style.transition="transform .2s ease-in-out",t.style.transform="translateY(".concat(o,"px)")}},release:function(){if(!c){if(function(){s&&(clearTimeout(s),s=void 0,n=void 0);return!n||(cancelAnimationFrame(a),!1)}())return null;var t;if(l.style.overflowY="scroll",r<u.count)t=u.get(r).top;else{var o=u.get(r-1),i=o.offsetTop,d=o.height;t=i+n.margins.top+d}t=t-n.dimensions.height+function(){var t=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;return e.offsetTop-t-l.scrollTop}();var f=u.getSelectedIndexes();try{return{indexes:f,toIndex:r}}finally{n.release(0,t),u.resetStyles(),n=void 0}}}}};function y(e){var t=Object(o.useState)(),n=Object(i.a)(t,2),a=n[0],s=n[1],c=Object(o.useState)(!1),l=Object(i.a)(c,2),u=l[0],d=l[1],m=Object(o.useState)(!0),v=Object(i.a)(m,2),p=v[0],g=v[1],y=Object(o.useRef)();function b(t){d(!0),t.target.parentNode===y.current&&(a.grasp(t.target),e.onGrasp&&e.onGrasp())}function w(t){p?a.move(t.target,t.touches[0].clientX,t.touches[0].clientY):a.move(t.target,t.clientX,t.clientY),e.Drag&&e.onDrag()}function x(t){var n=a.release();d(!1),n&&e.onDrop&&e.onDrop(n)}Object(o.useEffect)(function(){console.log("new Handler!!"),s(new h(y.current,e))},[e.children]),Object(o.useEffect)(function(){return!p&&u?document.body.addEventListener("mousemove",w):document.body.removeEventListener("mousemove",w),function(){document.body.removeEventListener("mousemove",w)}}),Object(o.useEffect)(function(){return p&&u?document.body.addEventListener("touchmove",w):document.body.removeEventListener("touchmove",w),function(){document.body.removeEventListener("touchmove",w)}});var E={};return a&&(E=p?{onTouchStart:b,onTouchEnd:x}:{onMouseDown:b,onMouseUp:x}),r.a.createElement("div",Object.assign({style:{overflowY:"scroll"},onPointerDown:function(e){"touch"===e.pointerType?g(!0):g(!1)}},E,{onContextMenu:f}),r.a.createElement("div",{className:"container",ref:y},e.children))}y.defaultProps={raised:!0,dragClassName:"drag-style"};var b=function(e){return Object(c.a)(Array(e).keys()).map(function(e){return"Item ".concat(e)})};s.a.render(r.a.createElement(function(){var e=Object(o.useState)(b(18)),t=Object(i.a)(e,2),n=t[0],a=t[1];return r.a.createElement("div",{className:"list"},r.a.createElement(y,{dragClassName:"drag-style",onDrop:function(e){var t=e.indexes,o=e.toIndex;return a(function(e,t,n){var o=e[n],r=e.filter(function(e,n){return t.includes(n)}),a=e.filter(function(e,n){return!t.includes(n)}),s=a.indexOf(o);return s>-1?a.splice.apply(a,[s,0].concat(Object(c.a)(r))):a.push.apply(a,Object(c.a)(r)),a}(n,t,o))}},n.map(function(e){return r.a.createElement("div",{key:e,className:"list-item",style:{height:"Item 2"===e?"70px":"Item 4"===e&&"100px"}},e)})))},null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(19)}},[[7,2,1]]]);
//# sourceMappingURL=main.9973a064.chunk.js.map